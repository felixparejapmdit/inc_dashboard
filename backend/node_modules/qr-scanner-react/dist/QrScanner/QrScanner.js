import { __assign } from '../node_modules/tslib/tslib.es6.js';
import ViewFinder from '../ViewFinder/ViewFinder.js';
import React, { useRef } from 'react';
import useScanner from '../hooks/useScanner.js';
import './QrScanner.css.js';

var selectViewFinder = function (viewFinderConfig) {
    return viewFinderConfig.custom ? (viewFinderConfig.custom) : (React.createElement(ViewFinder, __assign({}, viewFinderConfig)));
};
var QrScanner = function (props) {
    var _a, _b, _c, _d, _e, _f, _g;
    var vid = useRef(null);
    var scannerSettings = {
        color: (_a = props.scanConfig) === null || _a === void 0 ? void 0 : _a.qrColor,
        onResult: props.onResult,
        onError: props.onError,
        maxScansPerSecond: (_b = props.scanConfig) === null || _b === void 0 ? void 0 : _b.maxScansPerSecond,
        cameraPreference: (_c = props.scanConfig) === null || _c === void 0 ? void 0 : _c.cameraPreference
    };
    useScanner(vid, scannerSettings);
    var viewFinder = ((_d = props.viewFinderConfig) === null || _d === void 0 ? void 0 : _d.visible) && selectViewFinder(props.viewFinderConfig);
    var outerCss = __assign({ width: '400px', margin: '10px' }, (_e = props.styles) === null || _e === void 0 ? void 0 : _e.container);
    return (React.createElement("div", { style: outerCss },
        React.createElement("div", { className: 'qr-scanner-react-container', style: (_f = props.styles) === null || _f === void 0 ? void 0 : _f.videoContainer },
            React.createElement(React.Fragment, null, viewFinder),
            React.createElement("video", { style: (_g = props.styles) === null || _g === void 0 ? void 0 : _g.video, className: 'qr-scanner-react-video' + " " + (props['full-width'] ? 'full-width' : ''), ref: vid, muted: true, autoPlay: true }))));
};

export { QrScanner as default };
//# sourceMappingURL=QrScanner.js.map
